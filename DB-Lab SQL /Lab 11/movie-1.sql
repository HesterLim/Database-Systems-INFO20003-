-- INFO20003 transactions lab script

-- Uncomment for BYOD installs:
-- USE labs2019;

DROP TABLE IF EXISTS soundtrack;
DROP TABLE IF EXISTS movie;

CREATE TABLE movie (
  movie_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  genre VARCHAR(45) NOT NULL,
  release_date INT(10) unsigned NOT NULL,
  worldwide_gross DECIMAL(10, 2) NULL,
  director_name VARCHAR(100) NULL,
  studio VARCHAR(45) NOT NULL,
  PRIMARY KEY (movie_id)
) ENGINE=INNODB ;


CREATE TABLE soundtrack (
track_title VARCHAR(80) NOT NULL,
track_length FLOAT DEFAULT 0,
movie_id INTEGER UNSIGNED NOT NULL,
track_index INTEGER UNSIGNED NOT NULL,
PRIMARY KEY(movie_id, track_index),
CONSTRAINT FK_soundtrack_1
FOREIGN KEY FK_soundtrack_1 (movie_id) REFERENCES movie (movie_id)
ON DELETE CASCADE
ON UPDATE CASCADE
) ENGINE=INNODB ;

INSERT INTO movie(name, studio, genre, director_name, release_date, worldwide_gross)
VALUES
('Titanic', 'Paramount Pictures', 'Romance', 'James Cameron', 1999, 18353000),
('The Lord of the Rings: The Return of the King', 'New Line Cinema', 'Action', 'Peter Jackson', 2004, 11292192.52),
('Pirates of the Caribbean: Dead Man\'s Chest', 'Buena Vista Pictures', 'Action', 'Gore Verbinski', 2006, 10603326.28),
('Harry Potter and the Sorcerer\'s Stone', 'Warner Bros.', 'Fantasy', 'Chris Columbus', 2002, 9686578.91),
('Pirates of the Caribbean: At World\'s End', 'Buena Vista Pictures', 'Action', 'Gore Verbinski', 2007, 9584041.52),
('Harry Potter and the Order of the Phoenix', 'Warner Bros.', 'Adventure', 'David Yates', 2007, 9370008.66),
('Star Wars: Episode I - The Phantom Menace', '20th Century Fox', 'Sci-fi', 'George Lucas', 2001, 9223790),
('The Lord of the Rings: The Two Towers', 'New Line Cinema', 'Fantasy', 'Peter Jackson', 2003, 9216000),
('Jurassic Park', 'Universal Pictures', 'Suspense/Thriller', 'Steven Spielberg', 2001, 9197000),
('Harry Potter and the Goblet of Fire', 'Warner Bros.', 'Adventure', 'Mike Newell', 2006, 8921943.97),
('Spider-Man 3', 'Columbia Pictures', 'Action', 'Sam Raimi', 2007, 8854303.03),
('Shrek 2', 'DreamWorks Distribution', 'Action', 'Andrew Adamson', 2004, 8808710.36),
('Harry Potter and the Chamber of Secrets', 'Warner Bros.', 'Fantasy', 'Chris Columbus', 2003, 8663000),
('Finding Nemo', 'Walt Disney Pictures', 'Family/Kids', 'Andrew Stanton', 2003, 8650000),
('The Lord of the Rings: The Fellowship of the Ring', 'New Line Cinema', 'Fantasy', 'Peter Jackson', 2002, 8607000),
('Star Wars: Episode III - Revenge of the Sith', '20th Century Fox', 'Action', 'George Lucas', 2005, 8484625.55),
('Independence Day', '20th Century Fox', 'Action', 'Roland Emmerich', 2004, 8112000),
('Spider-Man', 'Columbia Pictures', 'Suspense/Thriller', 'Sam Raimi', 2002, 8067000),
('Star Wars', '20th Century Fox', 'Action', 'George Lucas', 2004, 7979000),
('Shrek the Third', 'DreamWorks Distribution', 'Animation', 'Chris Miller', 2007, 7911066.65);


INSERT INTO soundtrack(movie_id, track_index, track_title, track_length )
VALUES
(1,   1, 'Never an Absolution', 3.03),
(1,   2, 'Distant Memories', 2.23),
(1,   3, 'Southampton', 4.01),
(1,   4, 'Rose', 2.52),
(1,   5, 'Leaving Port', 3.26),
(1,   6, 'Take Her to Sea, Mr. Murdoch', 4.31),
(1,   7, 'Hard to Starboard', 6.52),
(1,   8, 'Unable to Stay, Unwilling to Leave', 3.56),
(1,   9, 'The Sinking', 5.05),
(1,  10, 'Death of Titanic', 8.26),
(1,  11, 'A Promise Kept', 6.02),
(1,  12, 'A Life So Changed', 2.13),
(1,  13, 'An Ocean of Memories', 7.57),
(1,  14, 'My Heart Will Go On', 5.10),
(1,  15, 'Hymn to the Sea', 6.25),
(2,  1, 'A Storm Is Coming', 2.52),
(2,  2, 'Hope and Memory', 1.45),
(2,  3, 'Minas Tirith', 3.37),
(2,  4, 'The White Tree', 3.25),
(2,  5, 'The Steward of Gondor', 3.53),
(2,  6, 'Minas Morgul', 1.58),
(2,  7, 'The Ride of the Rohirrim', 2.08),
(2,  8, 'Twilight and Shadow', 3.30),
(2,  9, 'Cirith Ungol', 1.44),
(2,  10, 'Andril', 2.35),
(2,  11, 'Shelob''s Lair', 4.07),
(2,  12, 'Ash and Smoke', 3.25),
(2,  13, 'The Fields of the Pelennor', 3.26),
(2,  14, 'Hope Fails', 2.20),
(2,  15, 'The Black Gate Opens', 4.01),
(2,  16, 'The End of All Things', 5.12),
(2,  17, 'The Return of the King', 10.14),
(2,  18, 'The Grey Havens', 5.59),
(2,  19, 'Into the West', 5.49),
(2,  20, 'Use Well the Days', 3.10),
(3,  1, 'Jack Sparrow', 6.06),
(3,  2, 'The Kraken', 6.55),
(3,  3, 'Davy Jones', 3.15),
(3,  4, 'I''ve Got My Eye On You', 2.25),
(3,  5, 'Dinner Is Served', 1.30),
(3,  6, 'Tia Dalma', 3.57),
(3,  7, 'Two Hornpipes (Tortuga)', 1.14),
(3,  8, 'A Family Affair', 3.34),
(3,  9, 'Wheel of Fortune', 6.45),
(3,  10, 'You Look Good Jack', 5.34),
(3,  11, 'Hello Beastie', 10.15),
(3,  12, 'He''s a Pirate', 7.02),
(4,  1, 'Prologue', 2.12),
(4,  2, 'Harry''s Wondrous World', 5.21),
(4,  3, 'The Arrival of Baby Harry', 4.25),
(4,  4, 'Visit to the Zoo and Letters from Hogwarts', 3.22),
(4,  5, 'Diagon Alley and The Gringotts Vault', 4.06),
(4,  6, 'Platform Nine-and-Three-Quarters and the Journey to Hogwarts', 3.14),
(4,  7, 'Entry into the Great Hall and The Banquet', 3.42),
(4,  8, 'Mr. Longbottom Flies', 3.35),
(4,  9, 'Hogwarts Forever! and The Moving Stairs', 3.46),
(4,  10, 'The Norwegian Ridgeback and A Change of Season', 2.47),
(4,  11, 'The Quidditch Match', 8.28),
(4,  12, 'Christmas at Hogwarts', 2.56),
(4,  13, 'The Invisibility Cloak and The Library Scene', 3.15),
(4,  14, 'Fluffy''s Harp', 2.38),
(4,  15, 'In the Devil''s Snare and The Flying Keys', 2.20),
(4,  16, 'The Chess Game', 3.48),
(4,  17, 'The Face of Voldemort', 6.10),
(4,  18, 'Leaving Hogwarts', 2.13),
(4,  19, 'Hedwig''s Theme', 5.09),
(5,  1, 'Hoist the Colours', 1.31),
(5,  2, 'Singapore', 3.40),
(5,  3, 'At Wit''s End', 8.05),
(5,  4, 'Multiple Jacks', 3.51),
(5,  5, 'Up is Down', 2.42),
(5,  6, 'I See Dead People in Boats', 7.09),
(5,  7, 'The Brethren Court', 2.21),
(5,  8, 'Parlay', 2.10),
(5,  9, 'Calypso', 3.02),
(5,  10, 'What Shall We Die For', 2.02),
(5,  11, 'I Don''t Think Now is the Best Time', 10.45),
(5,  12, 'One Day', 4.01),
(5,  13, 'Drink Up Me Hearties', 4.31),
(6,  1, 'Fireworks', 1.49),
(6,  2, 'Professor Umbridge', 2.35),
(6,  3, 'Another Story', 2.41),
(6,  4, 'Dementors in the Underpass', 1.45),
(6,  5, 'Dumbledore''s Army', 2.42),
(6,  6, 'The Hall of Prophecies', 4.27),
(6,  7, 'Possession', 3.20),
(6,  8, 'The Room of Requirement', 6.09),
(6,  9, 'The Kiss', 1.56),
(6, 10, 'A Journey to Hogwarts', 2.54),
(6, 11, 'The Sirius Deception', 2.36),
(6, 12, 'Death of Sirius', 3.58),
(6, 13, 'Umbridge Spoils a Beautiful Morning', 2.39),
(6, 14, 'Darkness Takes Over', 2.58),
(6, 15, 'The Ministry of Magic', 2.48),
(6, 16, 'The Sacking of Trelawney', 2.15),
(6, 17, 'Flight of the Order of the Phoenix', 1.34),
(6, 18, 'Loved Ones and Leaving', 3.15),
(6, 19, 'Divine Crusade', 2.43),
(7,  1, 'Star Wars Main Title and The Arrival at Naboo', 2.55),
(7,  2, 'Duel of the Fates', 4.14),
(7,  3, 'Anakin''s Theme', 3.05),
(7,  4, 'Jar Jar''s Introduction and The Swim to Otoh Gunga', 5.07),
(7,  5, 'The Sith Spacecraft and The Droid Battle', 2.37),
(7,  6, 'The Trip to the Naboo Temple and The Audience with Boss Nass', 4.07),
(7,  7, 'The Arrival at Tatooine and The Flag Parade', 4.04),
(7,  8, 'He Is the Chosen One', 3.53),
(7,  9, 'Anakin Defeats Sebulba', 4.24),
(7, 10, 'Passage Through the Planet Core', 4.40),
(7, 11, 'Watto''s Deal and Kids at Play', 4.57),
(7, 12, 'Panaka and the Queen''s Protectors', 3.24),
(7, 13, 'Queen Amidala and The Naboo Palace', 4.51),
(7, 14, 'The Droid Invasion and The Appearance of Darth Maul', 5.14),
(7, 15, 'Qui-Gon''s Noble End', 3.48),
(7, 16, 'The High Council Meeting and Qui-Gon''s Funeral', 3.09),
(7, 17, 'Augie''s Great Municipal Band and End Credits', 9.37),
(8, 1, 	'Foundations of Stone', 3.51),
(8, 2, 	'The Taming of Smagol', 2.48),
(8, 3, 	'The Riders of Rohan', 4.05),
(8, 4, 	'The Passage of the Marshes', 2.46),
(8, 5, 	'The Uruk-hai', 2.58),
(8, 6, 	'The King of the Golden Hall', 3.49),
(8, 7, 	'The Black Gate Is Closed', 3.17),
(8, 8, 	'Evenstar', 3.15),
(8, 9, 	'The White Rider', 2.28),
(8, 10, 'Treebeard', 2.43),
(8, 11, 'The Leave Taking', 3.41),
(8, 12, 'Helm''s Deep', 3.53),
(8, 13, 'The Forbidden Pool', 5.27),
(8, 14, 'Breath of Life', 5.07),
(8, 15, 'The Hornburg', 4.36),
(8, 16, 'Forth Eorlingas', 3.15),
(8, 17, 'Isengard Unleashed', 5.01),
(8, 18, 'Samwise the Brave', 3.46),
(8, 19, 'Gollum''s Song', 5.51),
(8, 20, 'Farewell to Lrien', 4.37),
(9, 1, 'Opening Titles', 0.33),
(9, 2, 'Theme from Jurassic Park', 3.27),
(9, 3, 'Incident at Isla Nublar', 5.20),
(9, 4, 'Journey to the Island', 8.52),
(9, 5, 'The Raptor Attack', 2.49),
(9, 6, 'Hatching Baby Raptor', 3.20),
(9, 7, 'Welcome to Jurassic Park', 7.54),
(9, 8, 'My Friend, the Brachiosaurus', 4.16),
(9, 9, 'Dennis Stelas the Embryo', 4.55),
(9, 10, 'A Tree for My Bed', 2.12),
(9, 11, 'High-Wire Stunts', 4.08),
(9, 12, 'Remembering Petticoat Lane', 2.48),
(9, 13, 'Jurassic Park Gate', 2.03),
(9, 14, 'Eye to Eye', 6.32),
(9, 15, 'T-Rex Rescue & Finale', 7.39),
(9, 16, 'End Credits', 3.26),
(10,  1, 'The Story Continues', 1.31),
(10,  2, 'Frank Dies', 2.12),
(10,  3, 'The Quidditch World Cup', 1.52),
(10,  4, 'The Dark Mark', 3.27),
(10,  5, 'Foreign Visitors Arrive', 1.30),
(10,  6, 'The Goblet of Fire', 3.23),
(10,  7, 'Rita Skeeter', 1.43),
(10,  8, 'Sirius Fire', 2.00),
(10,  9, 'Harry Sees Dragons', 1.54),
(10, 10, 'Golden Egg', 6.11),
(10, 11, 'Neville''s Waltz', 2.11),
(10, 12, 'Harry in Winter', 2.56),
(10, 13, 'Potter Waltz', 2.19),
(10, 14, 'Underwater Secrets', 2.28),
(10, 15, 'The Black Lake', 4.38),
(10, 16, 'Hogwarts'' March', 2.47),
(10, 17, 'The Maze', 4.44),
(10, 18, 'Voldemort', 9.39),
(10, 19, 'Death of Cedric', 1.59),
(10, 20, 'Another Year Ends', 2.21),
(10, 21, 'Hogwarts'' Hymn', 2.59),
(10, 22, 'Do the Hippogriff', 3.39),
(10, 23, 'This Is the Night', 3.24),
(10, 24, 'Magic Works', 4.02);
